### PROXY ENVOY ###############################################################
  envoy:
    container_name: "${COMPOSE_PROJECT_NAME}_envoy"
    hostname: envoy
    image: envoyproxy/envoy:${ENVOY_VERSION:-latest}
    volumes:
      - ${APP_CONFIG_PATH_HOST}/envoy/conf:/etc/envoy
      - ${APP_LOG_PATH_HOST}/envoy/envoy_admin.log:/var/log/envoy_admin.log
    environment:
      - "ENVOY_UID=0"
      - APP_FQDN=${APP_FQDN}
    cap_add:
      - NET_ADMIN
    logging:
      driver: "json-file"
      options:
        max-size: "1m"
    networks:
      - backend
      - frontend
    ports:
      # Map host port 10000 to container port 10000 (Envoy's default ingress port)
      - "10000:10000" 
      # Map host port 9901 to container port 9901 (Envoy's admin interface port)
      - "9901:9901"

